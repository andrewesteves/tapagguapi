{{define "content"}}

<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-6 offset-md-3">
      <div class="card my-2">
        <div class="card-header">
          Nova senha
        </div>
        <div class="card-body">
          <form action="{{.Action}}" method="POST">
            <div class="alert alert-danger d-none" id="alert">As senhas est√£o diferentes, por favor, digite novamente.
            </div>
            <input type="hidden" name="email" value="{{.Email}}">
            <input type="hidden" name="token" value="{{.Token}}">
            <div class="form-group">
              <label for="password">Senha:</label>
              <input type="password" name="password" id="password" class="form-control">
            </div>
            <div class="form-group">
              <label for="password">Confirmar senha:</label>
              <input type="password" name="password_confirmation" id="password_confirmation" class="form-control">
            </div>
            <div class="form-group">
              <button type="submit" id="send" class="btn btn-primary">Atualizar</button>
            </div>
          </form>
        </div>
        <div class="card-footer text-center">
          <small>TaPaggu, seu app de despesas.</small>
        </div>
      </div>
    </div>
  </div>
</div>

{{end}}
{{define "js"}}
<script>
  document.getElementById('send').addEventListener('click', function (e) {
    const password = document.getElementById('password');
    const password_confirmation = document.getElementById('password_confirmation');
    if (password.value != password_confirmation.value) {
      document.getElementById('alert').classList.remove('d-none');
      e.preventDefault();
    }
  });
</script>
{{end}}